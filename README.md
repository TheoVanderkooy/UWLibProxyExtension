# UWLibProxy
An extension for google chrome and firefox to open the current page with the UW library proxy.

Open the current page in a new tab through the UWaterloo library proxy by clicking on the extension icon.

## Installation
Not currently available through the normal distribution methods. Can be loaded manually:
1. First clone the repo and run build.sh to generate the files needed.

### Google Chrome
1. Go the the chrome [extension page](chrome://extensions).
2. Enable developer mode (top right corner).
3. Click the "Load unpacked" button and select the `target/chrome` folder of this repository (generated by build script).
4. You probably want to pin the extension in the extensions dropdown so it is accessible.

### Firefox
1. Go to the firefox [debugging page](about:debugging#/runtime/this-firefox) "This Firefox" tab.
2. Click "Load Temporary Add-on..." and select `target/firefox/uwproxy.zip` in this repository.


# TODO
## New features
- Better icon
- More general, add settings:
    - Pick proxy URL replacement
    - Allow closing original tab (redirect) instead of new tab
    - Automatically redirect certain domains?
    - Maybe change the icon if already using the proxy
- (future) update firefox to manifest v3 if applicable
- Sign properly and create a "release"

## Bugs/issues
- (chrome) Open tab in the same tab group? - currently opens in the same group UNLESS the current tab is the last in the group. I think this is an issue with the chrome.tabs API (which currently has no way to specify the tab group of the new tab, it has to be set separately)
- TODO discover (more) bugs
